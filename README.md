# Тестовое задание SaaSoft - Управление учетными записями

Тестовое задание на позицию Middle Frontend разработчика (Vue.js) в компании SaaSoft.

## Описание проекта

Это приложение для управления учетными записями, разработанное с использованием Vue 3, TypeScript и Vite. Приложение позволяет добавлять, редактировать и удалять учетные записи с различными типами аутентификации (LDAP и локальная).

## Основные функции

- Добавление новых учетных записей
- Редактирование существующих записей
- Удаление учетных записей
- Валидация данных с использованием Zod
- Сохранение данных в localStorage
- Поддержка двух типов учетных записей:
  - LDAP
  - Локальная
- Возможность добавления меток к учетным записям (разделитель ;)

## Технологии

- **Vue 3** с Composition API (`<script setup>`)
- **TypeScript** для типизации
- **Vite** в качестве инструмента сборки
- **Pinia** для управления состоянием
- **PrimeVue** компоненты UI
- **TailwindCSS** для стилизации
- **Zod** для валидации данных
- **Lodash-es** для вспомогательных функций

## Установка и запуск

### Требования

- Node.js (рекомендуется LTS версия)
- npm или yarn

### Установка зависимостей

```bash
npm install
```

или

```bash
yarn install
```

### Запуск в режиме разработки

```bash
npm run dev
```

или

```bash
yarn dev
```

### Сборка проекта

```bash
npm run build
```

или

```bash
yarn build
```

### Предварительный просмотр сборки

```bash
npm run preview
```

или

```bash
yarn preview
```

## Структура проекта

```
src/
├── components/
│   └── AccountManagementForm.vue  # Основной компонент управления учетными записями
├── store/
│   └── index.ts                   # Хранилище Pinia для управления состоянием
├── useValidation.ts               # Пользовательский хук для валидации
├── App.vue                        # Корневой компонент приложения
└── main.ts                        # Точка входа приложения
```

## Особенности реализации

### Валидация данных

В проекте реализована валидация данных с использованием библиотеки Zod. Валидация происходит при потере фокуса (blur) с поля ввода.

### Локальное хранение данных

Данные сохраняются в localStorage браузера с использованием debounce для оптимизации производительности.

### Компонент AccountManagementForm

Основной компонент приложения, реализующий таблицу с возможностью:

- Добавления новых записей
- Редактирования существующих записей
- Удаления записей
- Отображения ошибок валидации

## Разработка

### Компоненты PrimeVue

В проекте используются следующие компоненты PrimeVue:

- DataTable - для отображения таблицы учетных записей
- Select - для выбора типа учетной записи
- InputText - для ввода текстовых данных
- Password - для ввода пароля
- Button - для кнопок действий
- Message - для отображения информационного сообщения

### Состояние приложения

Управление состоянием реализовано с помощью Pinia. Хранилище содержит массив учетных записей и методы для их добавления и удаления.

### Валидация

Валидация реализована в пользовательском хуке `useValidation`, который использует Zod для проверки данных. Схема валидации определена в компоненте `AccountManagementForm.vue`.

## Возможности для улучшения

1. Добавить unit-тесты
2. Реализовать более сложные сценарии валидации
3. Добавить возможность экспорта/импорта данных
4. Реализовать фильтрацию и сортировку таблицы
5. Добавить темную тему

## Обратная связь по тестовому заданию

- [x] Валидация работает некорректно, если есть валидная запись, то по анфокусу она должна сохранятся. Сейчас если есть валидная и невалидная записи, то сохранения валидной не будет.
- Нарушения SRP (форматирование, валидацию, типы нужно выносить отдельно)
- Слабая декомпозиция -> Нарушения SOLID
- [x] Работу с LS (видимо localStorage) нужно выносить в хук

**Задание не выполнено**

## Работа над ошибками

- Исправил валидацию, теперь если отдельная запись валидна, то она сохраняется в localStorage. Не валидные записи не сохраняются.
- Работа с localStorage вынесена в отдельный модуль, где сервис работы с localStorage реализован через класс
- Исправлены нарушения принципов SOLID:
  - Принцип единственной ответственности (SRP): компоненты и функции разделены по отдельным модулям
  - Принцип открытости/закрытости (OCP): добавлена фабрика типов учетных записей для легкого расширения
  - Принцип подстановки Барбары Лисков (LSP): унифицированы типы данных
  - Принцип разделения интерфейса (ISP): созданы специализированные интерфейсы и хуки
  - Принцип инверсии зависимостей (DIP): внедрены зависимости через интерфейсы
- Улучшена декомпозиция проекта с четким разделением на компоненты, сервисы, хуки и интерфейсы
- Подробные предложения по улучшению сохранены в файле IMPROVEMENT_SUGGESTIONS.md
